(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b7e54fe"],{2189:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return o})),a.d(e,"e",(function(){return u})),a.d(e,"f",(function(){return l})),a.d(e,"g",(function(){return c})),a.d(e,"d",(function(){return p}));a("d3b7"),a("3ca3"),a("ddb0"),a("9861"),a("99af");var n=a("b775"),r=a("99b1");function s(t,e,a){var s=new URLSearchParams;return s.append("organizationId",t),s.append("applyStatuss",e),s.append("pageNumber",a),Object(n["a"])({url:"".concat(r["a"],"/admin/tutor-inspect/getInit"),method:"post",data:s})}function i(t,e){return Object(n["a"])({url:"".concat(r["a"],"/admin/tutor-inspect/search/").concat(e),method:"post",data:t})}function o(){return Object(n["a"])({url:"/admin/apply-type/getApplyType",method:"get"})}function u(t){return Object(n["a"])({url:"/admin/update-status/update",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/admin/update-status/updateSfh",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/admin/update-status/updateXy",method:"post",data:t})}function p(t){return Object(n["a"])({url:"/admin/update-status/updateSocial",method:"post",data:t})}},"6fa2":function(t,e,a){"use strict";a.d(e,"d",(function(){return s})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return u}));a("99af");var n=a("a78e"),r=a.n(n);function s(t,e,a,n,r){t.$router.push("/applyDetails/".concat(e,"/").concat(a,"/").concat(n,"/").concat(r))}function i(t){var e=new Date(t);return new Date(e.getTime()+e.getTimezoneOffset()/60*3600*1e3)}function o(t){var e=new Date(t);return new Date(e.getTime()+3600*(e.getTimezoneOffset()/60+24)*1e3)}function u(){if(null!==r.a.get("organizationId"))return r.a.get("organizationId");console.log("error-organizationId is null")}},"8d63":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"e",(function(){return s})),a.d(e,"f",(function(){return i})),a.d(e,"b",(function(){return o})),a.d(e,"d",(function(){return u})),a.d(e,"c",(function(){return l}));var n=a("b775");function r(t){return Object(n["a"])({url:"/admin/export/cs",method:"post",data:t,responseType:"blob"})}function s(t){return Object(n["a"])({url:"/admin/export/sfh",method:"post",data:t,responseType:"blob"})}function i(t){return Object(n["a"])({url:"/admin/export/sxyfh",method:"post",data:t,responseType:"blob"})}function o(t){return Object(n["a"])({url:"/admin/export/finalOrg",method:"post",data:t,responseType:"blob"})}function u(t){return Object(n["a"])({url:"/admin/export/qualification",method:"post",data:t,responseType:"blob"})}function l(t){return Object(n["a"])({url:"/admin/export/finalListGraduate",method:"post",data:t,responseType:"blob"})}},fda8:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{"label-width":"70px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"工号"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入工号",clearable:"",size:"small"},model:{value:t.queryParams.userId,callback:function(e){t.$set(t.queryParams,"userId",e)},expression:"queryParams.userId"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入姓名",clearable:"",size:"small"},model:{value:t.queryParams.userName,callback:function(e){t.$set(t.queryParams,"userName",e)},expression:"queryParams.userName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"申请类别",prop:"applyType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择申请类别",clearable:"",size:"small"},model:{value:t.queryParams.applyType,callback:function(e){t.$set(t.queryParams,"applyType",e)},expression:"queryParams.applyType"}},t._l(t.applyTypeOptions,(function(t){return a("el-option",{key:t.applyTypeId,attrs:{label:t.applyName,value:t.applyTypeId}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-col",{attrs:{span:6,offset:6}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:t.search}},[t._v("搜索")])],1),a("el-col",{attrs:{span:6,offset:2}},[a("el-button",{attrs:{icon:"el-icon-refresh",size:"small"},on:{click:function(e){return t.resetQuery(t.queryParams)}}},[t._v("重置")])],1)],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.tutorList},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{label:"工号",align:"center",prop:"tutorId"}}),a("el-table-column",{attrs:{label:"姓名",align:"center",prop:"name"}}),a("el-table-column",{attrs:{label:"所在单位（院系）",align:"center",prop:"organizationName"}}),a("el-table-column",{attrs:{label:"申请学科或类别代码",align:"center",prop:"applySubject"}}),a("el-table-column",{attrs:{label:"申请类别",align:"center",prop:"applyName"}}),a("el-table-column",{attrs:{label:"职称",align:"center",prop:"title"}}),a("el-table-column",{attrs:{label:"审核状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[15===e.row.status||16===e.row.status||17===e.row.status||18===e.row.status?a("el-tag",{attrs:{type:"info"}},[t._v(" "+t._s(e.row.inspectDescribe)+" ")]):a("el-tag",{attrs:{type:"warning"}},[t._v(" "+t._s(e.row.inspectDescribe)+" ")])]}}])}),a("el-table-column",{attrs:{label:"详情",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.toDetails(e.row.applyId,e.row.applyTypeId,e.row.tutorId)}}},[t._v("查 看 ")])]}}])}),a("el-table-column",{attrs:{label:"备注",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.commitFun(e.row)}}},[t._v("添加备注")])]}}])})],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-pagination",{staticStyle:{margin:"5px 0"},attrs:{"current-page":t.queryParams.pageNum,"page-size":t.queryParams.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1),a("el-row",[a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{plain:"",icon:"el-icon-download",size:"small"},on:{click:function(e){return t.exportFun()}}},[t._v("导出excel ")])],1)],1),t._m(0),a("el-dialog",{attrs:{title:"备注",visible:t.dialogVisible,width:"20%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v("请添加需要提交给校会的备注信息(可以为空)")]),a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:t.commit,callback:function(e){t.commit=e},expression:"commit"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.cancel()}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitCommit()}}},[t._v("确 定")])],1)],1)],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticStyle:{margin:"10px 0"}},[t._v("注意：导出上表中"),a("span",{staticStyle:{margin:"10px 0",color:"#F56C6C"}},[t._v("同意上校会")]),t._v("的所有数据")])}],s=a("1da1"),i=(a("d81d"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("96cf"),a("8d63")),o=a("6fa2"),u=a("2189"),l={data:function(){return{loading:!0,currentPage:1,single:!1,multiple:!1,showSearch:!0,total:0,tutorList:[],dialogVisible:!1,title:"",open:!1,dateRange:[],applyTypeOptions:[],organizationOptions:[],subjectNameOptions:[],applyStatusOptions:[],subjectTypeOptions:[{code:1,label:"文科"},{code:2,label:"理科"},{code:3,label:"交叉学科"}],form:{status:1},queryParams:{pageNum:1,pageSize:10,userId:"",userName:"",organization:"",applyType:"",subjectName:"",applyStatus:"",applyStatuss:[],subjectType:""},commit:""}},created:function(){this.getList(),this.getApplyType(),this.getApplyStatus()},methods:{toDetails:function(t,e,a){Object(o["d"])(this,t,e,a)},search:function(){var t=this;""===this.queryParams.applyStatus&&""===this.queryParams.userName&&""===this.queryParams.organization&&""===this.queryParams.applyType&&""===this.queryParams.subjectType&&""===this.queryParams.userId?this.getList():(""===this.queryParams.applyStatus&&(this.queryParams.applyStatuss=["61","62"]),this.queryParams.pageNum=1,Object(u["c"])(this.queryParams,1).then((function(e){t.tutorList=e.data.data,t.total=e.data.total,t.loading=!1})).catch((function(t){throw t})))},getList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!0,a=["61","62"],t.queryParams.pageNum=t.currentPage||1,Object(u["b"])(0,a,t.queryParams.pageNum).then((function(e){t.tutorList=e.data.data,t.total=e.data.total,t.loading=!1}));case 4:case"end":return e.stop()}}),e)})))()},upDateStatus:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(n=[],r=0;r<e.ids.length;r++)s={id_1:e.ids[r],status_1:t,commit_1:""},n[r]=s;return a.next=4,e.$http.post("/admin/update-status/update",n);case 4:i=a.sent,o=i.code,2e4===o&&e.$message.success("操作成功!"),e.getList();case 8:case"end":return a.stop()}}),a)})))()},getApplyType:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/admin/apply-type/getApplyType");case 2:a=e.sent,n=a.data,t.applyTypeOptions=n;case 5:case"end":return e.stop()}}),e)})))()},getApplyStatus:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.applyStatusOptions=[{codeId:14,inspectDescribe:"待初审"},{codeId:34,inspectDescribe:"符合条件"},{codeId:35,inspectDescribe:"不符合条件"},{codeId:32,inspectDescribe:"需修改"},{codeId:300,inspectDescribe:"送至社科处"},{codeId:31,inspectDescribe:"送至科研处"}];case 1:case"end":return e.stop()}}),e)})))()},getOrginization:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/admin/organization/getAll");case 2:a=e.sent,n=a.data,t.organizationOptions=n,console.info(t.organizationOptions);case 6:case"end":return e.stop()}}),e)})))()},cancel:function(){this.open=!1,this.reset()},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.queryParams.userId="",this.queryParams.userName="",this.queryParams.applyType="",this.queryParams.applyStatus="",this.queryParams.applyStatuss=[],this.queryParams.subjectType="",this.handleQuery()},handleSelectionChange:function(t){this.ids=t.map((function(t){return t.applyId}))},handleCurrentChange:function(t){this.currentPage=t,this.getList()},exportFun:function(){var t=new Date,e=t.getFullYear();this.loading=!0,this.queryParams.applyStatus=61,this.queryParams.applyStatuss=["61"],this.queryParams.userId="",Object(i["d"])(this.queryParams).then((function(t){var a=new Blob([t],{type:"application/vnd.ms-excel"}),n=window.URL.createObjectURL(a),r=document.createElement("a");r.download="西北大学"+e+"年上岗资格审核汇总表.xlsx",r.href=n,r.click()})),this.loading=!1},commitFun:function(t){this.dialogVisible=!0,this.commit=t.commitYjsySfh,this.row=t},submitCommit:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.row.commitYjsySfh=t.commit,e.next=3,t.$http.post("/admin/update-status/updateCommitByGraduate",t.row);case 3:a=e.sent,n=a.code,t.row={},t.dialogVisible=!1,console.info(n),2e4===n&&t.$message.success("操作成功!");case 9:case"end":return e.stop()}}),e)})))()}}},c=l,p=a("2877"),d=Object(p["a"])(c,n,r,!1,null,null,null);e["default"]=d.exports}}]);